public void testAppending() throws IOException { [EOL]     final String INPUT = "\"quo\\ted\""; [EOL]     final String QUOTED = "\\\"quo\\\\ted\\\""; [EOL]     SerializableString sstr = new SerializedString(INPUT); [EOL]     assertEquals(sstr.getValue(), INPUT); [EOL]     assertEquals(QUOTED, new String(sstr.asQuotedChars())); [EOL]     ByteArrayOutputStream bytes = new ByteArrayOutputStream(); [EOL]     assertEquals(QUOTED.length(), sstr.writeQuotedUTF8(bytes)); [EOL]     assertEquals(QUOTED, bytes.toString("UTF-8")); [EOL]     bytes.reset(); [EOL]     assertEquals(INPUT.length(), sstr.writeUnquotedUTF8(bytes)); [EOL]     assertEquals(INPUT, bytes.toString("UTF-8")); [EOL]     byte[] buffer = new byte[100]; [EOL]     assertEquals(QUOTED.length(), sstr.appendQuotedUTF8(buffer, 3)); [EOL]     assertEquals(QUOTED, new String(buffer, 3, QUOTED.length())); [EOL]     Arrays.fill(buffer, (byte) 0); [EOL]     assertEquals(INPUT.length(), sstr.appendUnquotedUTF8(buffer, 5)); [EOL]     assertEquals(INPUT, new String(buffer, 5, INPUT.length())); [EOL] } <line_num>: 17,40
public void testFailedAccess() throws IOException { [EOL]     final String INPUT = "Bit longer text"; [EOL]     SerializableString sstr = new SerializedString(INPUT); [EOL]     final byte[] buffer = new byte[INPUT.length() - 2]; [EOL]     final char[] ch = new char[INPUT.length() - 2]; [EOL]     final ByteBuffer bbuf = ByteBuffer.allocate(INPUT.length() - 2); [EOL]     assertEquals(-1, sstr.appendQuotedUTF8(buffer, 0)); [EOL]     assertEquals(-1, sstr.appendQuoted(ch, 0)); [EOL]     assertEquals(-1, sstr.putQuotedUTF8(bbuf)); [EOL]     bbuf.rewind(); [EOL]     assertEquals(-1, sstr.appendUnquotedUTF8(buffer, 0)); [EOL]     assertEquals(-1, sstr.appendUnquoted(ch, 0)); [EOL]     assertEquals(-1, sstr.putUnquotedUTF8(bbuf)); [EOL] } <line_num>: 42,59
