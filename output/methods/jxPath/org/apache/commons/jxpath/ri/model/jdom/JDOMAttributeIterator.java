public JDOMAttributeIterator(NodePointer parent, QName name) { [EOL]     this.parent = parent; [EOL]     this.name = name; [EOL]     if (parent.getNode() instanceof Element) { [EOL]         Element element = (Element) parent.getNode(); [EOL]         String prefix = name.getPrefix(); [EOL]         Namespace ns; [EOL]         if (prefix != null) { [EOL]             if (prefix.equals("xml")) { [EOL]                 ns = Namespace.XML_NAMESPACE; [EOL]             } else { [EOL]                 ns = element.getNamespace(prefix); [EOL]                 if (ns == null) { [EOL]                     attributes = Collections.EMPTY_LIST; [EOL]                     return; [EOL]                 } [EOL]             } [EOL]         } else { [EOL]             ns = Namespace.NO_NAMESPACE; [EOL]         } [EOL]         String lname = name.getName(); [EOL]         if (!lname.equals("*")) { [EOL]             attributes = new ArrayList(); [EOL]             if (ns != null) { [EOL]                 Attribute attr = element.getAttribute(lname, ns); [EOL]                 if (attr != null) { [EOL]                     attributes.add(attr); [EOL]                 } [EOL]             } [EOL]         } else { [EOL]             attributes = new ArrayList(); [EOL]             List allAttributes = element.getAttributes(); [EOL]             for (int i = 0; i < allAttributes.size(); i++) { [EOL]                 Attribute attr = (Attribute) allAttributes.get(i); [EOL]                 if (attr.getNamespace().equals(ns)) { [EOL]                     attributes.add(attr); [EOL]                 } [EOL]             } [EOL]         } [EOL]     } [EOL] } <line_num>: 42,87
public NodePointer getNodePointer() { [EOL]     if (position == 0) { [EOL]         if (!setPosition(1)) { [EOL]             return null; [EOL]         } [EOL]         position = 0; [EOL]     } [EOL]     int index = position - 1; [EOL]     if (index < 0) { [EOL]         index = 0; [EOL]     } [EOL]     return new JDOMAttributePointer(parent, (Attribute) attributes.get(index)); [EOL] } <line_num>: 163,177
public int getPosition() { [EOL]     return position; [EOL] } <line_num>: 179,181
public boolean setPosition(int position) { [EOL]     if (attributes == null) { [EOL]         return false; [EOL]     } [EOL]     this.position = position; [EOL]     return position >= 1 && position <= attributes.size(); [EOL] } <line_num>: 183,189
