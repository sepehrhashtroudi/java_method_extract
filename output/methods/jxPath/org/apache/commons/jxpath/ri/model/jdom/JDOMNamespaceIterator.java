public JDOMNamespaceIterator(NodePointer parent) { [EOL]     this.parent = parent; [EOL]     Object node = parent.getNode(); [EOL]     if (node instanceof Document) { [EOL]         node = ((Document) node).getRootElement(); [EOL]     } [EOL]     if (node instanceof Element) { [EOL]         namespaces = new ArrayList(); [EOL]         prefixes = new HashSet(); [EOL]         collectNamespaces((Element) node); [EOL]     } [EOL] } <line_num>: 42,53
private void collectNamespaces(Element element) { [EOL]     Namespace ns = element.getNamespace(); [EOL]     if (ns != null && !prefixes.contains(ns.getPrefix())) { [EOL]         namespaces.add(ns); [EOL]         prefixes.add(ns.getPrefix()); [EOL]     } [EOL]     List others = element.getAdditionalNamespaces(); [EOL]     for (int i = 0; i < others.size(); i++) { [EOL]         ns = (Namespace) others.get(i); [EOL]         if (ns != null && !prefixes.contains(ns.getPrefix())) { [EOL]             namespaces.add(ns); [EOL]             prefixes.add(ns.getPrefix()); [EOL]         } [EOL]     } [EOL]     Object parent = element.getParent(); [EOL]     if (parent instanceof Element) { [EOL]         collectNamespaces((Element) parent); [EOL]     } [EOL] } <line_num>: 55,73
public NodePointer getNodePointer() { [EOL]     if (position == 0) { [EOL]         if (!setPosition(1)) { [EOL]             return null; [EOL]         } [EOL]         position = 0; [EOL]     } [EOL]     int index = position - 1; [EOL]     if (index < 0) { [EOL]         index = 0; [EOL]     } [EOL]     Namespace ns = (Namespace) namespaces.get(index); [EOL]     return new JDOMNamespacePointer(parent, ns.getPrefix(), ns.getURI()); [EOL] } <line_num>: 75,88
public int getPosition() { [EOL]     return position; [EOL] } <line_num>: 90,92
public boolean setPosition(int position) { [EOL]     if (namespaces == null) { [EOL]         return false; [EOL]     } [EOL]     this.position = position; [EOL]     return position >= 1 && position <= namespaces.size(); [EOL] } <line_num>: 94,100
