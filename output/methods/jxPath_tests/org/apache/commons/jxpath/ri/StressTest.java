public StressTest(String name) { [EOL]     super(name); [EOL] } <line_num>: 43,45
public void testThreads() throws Throwable { [EOL]     context = JXPathContext.newContext(null, new Double(100)); [EOL]     Thread[] threadArray = new Thread[THREAD_COUNT]; [EOL]     for (int i = 0; i < THREAD_COUNT; i++) { [EOL]         threadArray[i] = new Thread(new StressRunnable()); [EOL]     } [EOL]     for (int i = 0; i < threadArray.length; i++) { [EOL]         threadArray[i].start(); [EOL]     } [EOL]     for (int i = 0; i < threadArray.length; i++) { [EOL]         try { [EOL]             threadArray[i].join(); [EOL]         } catch (InterruptedException e) { [EOL]             assertTrue("Interrupted", false); [EOL]         } [EOL]     } [EOL]     if (exception != null) { [EOL]         throw exception; [EOL]     } [EOL]     assertEquals("Test count", THREAD_COUNT * THREAD_DURATION, count); [EOL] } <line_num>: 47,71
public void run() { [EOL]     for (int j = 0; j < THREAD_DURATION && exception == null; j++) { [EOL]         try { [EOL]             double random = 1 + Math.random(); [EOL]             double sum = ((Double) context.getValue("/ + " + random)).doubleValue(); [EOL]             assertEquals(100 + random, sum, 0.0001); [EOL]             synchronized (context) { [EOL]                 count++; [EOL]             } [EOL]         } catch (Throwable t) { [EOL]             exception = t; [EOL]         } [EOL]     } [EOL] } <line_num>: 74,90
