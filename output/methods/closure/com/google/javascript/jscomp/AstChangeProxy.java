AstChangeProxy() { [EOL]     listeners = Lists.newArrayList(); [EOL] } <line_num>: 48,50
void nodeRemoved(Node node); <line_num>: 43,43
final void registerListener(ChangeListener listener) { [EOL]     listeners.add(listener); [EOL] } <line_num>: 55,57
final void unregisterListener(ChangeListener listener) { [EOL]     listeners.remove(listener); [EOL] } <line_num>: 62,64
private void notifyOfRemoval(Node node) { [EOL]     for (ChangeListener listener : listeners) { [EOL]         listener.nodeRemoved(node); [EOL]     } [EOL] } <line_num>: 69,73
final void removeChild(Node parent, Node node) { [EOL]     parent.removeChild(node); [EOL]     notifyOfRemoval(node); [EOL] } <line_num>: 78,82
final void replaceWith(Node parent, Node node, Node replacement) { [EOL]     replaceWith(parent, node, Lists.newArrayList(replacement)); [EOL] } <line_num>: 87,89
final void replaceWith(Node parent, Node node, List<Node> replacements) { [EOL]     Preconditions.checkNotNull(replacements, "\"replacements\" is null."); [EOL]     int size = replacements.size(); [EOL]     if ((size == 1) && node.isEquivalentTo(replacements.get(0))) { [EOL]         return; [EOL]     } [EOL]     int parentType = parent.getType(); [EOL]     Preconditions.checkState(size == 1 || parentType == Token.BLOCK || parentType == Token.SCRIPT || parentType == Token.LABEL); [EOL]     if (parentType == Token.LABEL && size != 1) { [EOL]         Node block = IR.block(); [EOL]         for (Node newChild : replacements) { [EOL]             newChild.copyInformationFrom(node); [EOL]             Node oldParent = newChild.getParent(); [EOL]             block.addChildToBack(newChild); [EOL]         } [EOL]         parent.replaceChild(node, block); [EOL]     } else { [EOL]         for (Node newChild : replacements) { [EOL]             newChild.copyInformationFrom(node); [EOL]             Node oldParent = newChild.getParent(); [EOL]             parent.addChildBefore(newChild, node); [EOL]         } [EOL]         parent.removeChild(node); [EOL]     } [EOL]     notifyOfRemoval(node); [EOL] } <line_num>: 94,131
