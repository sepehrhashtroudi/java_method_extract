protected OptionalHandlerFactory() { [EOL] } <line_num>: 36,36
public JsonSerializer<?> findSerializer(SerializationConfig config, JavaType type, BeanDescription beanDesc) { [EOL]     Class<?> rawType = type.getRawClass(); [EOL]     String className = rawType.getName(); [EOL]     String factoryName; [EOL]     if (className.startsWith(PACKAGE_PREFIX_JAVAX_XML) || hasSupertypeStartingWith(rawType, PACKAGE_PREFIX_JAVAX_XML)) { [EOL]         factoryName = SERIALIZERS_FOR_JAVAX_XML; [EOL]     } else if (doesImplement(rawType, CLASS_NAME_DOM_NODE)) { [EOL]         return (JsonSerializer<?>) instantiate(SERIALIZER_FOR_DOM_NODE); [EOL]     } else { [EOL]         return null; [EOL]     } [EOL]     Object ob = instantiate(factoryName); [EOL]     if (ob == null) { [EOL]         return null; [EOL]     } [EOL]     return ((Serializers) ob).findSerializer(config, type, beanDesc); [EOL] } <line_num>: 44,65
public JsonDeserializer<?> findDeserializer(JavaType type, DeserializationConfig config, BeanDescription beanDesc) throws JsonMappingException { [EOL]     Class<?> rawType = type.getRawClass(); [EOL]     String className = rawType.getName(); [EOL]     String factoryName; [EOL]     if (className.startsWith(PACKAGE_PREFIX_JAVAX_XML) || hasSupertypeStartingWith(rawType, PACKAGE_PREFIX_JAVAX_XML)) { [EOL]         factoryName = DESERIALIZERS_FOR_JAVAX_XML; [EOL]     } else if (doesImplement(rawType, CLASS_NAME_DOM_DOCUMENT)) { [EOL]         return (JsonDeserializer<?>) instantiate(DESERIALIZER_FOR_DOM_DOCUMENT); [EOL]     } else if (doesImplement(rawType, CLASS_NAME_DOM_NODE)) { [EOL]         return (JsonDeserializer<?>) instantiate(DESERIALIZER_FOR_DOM_NODE); [EOL]     } else { [EOL]         return null; [EOL]     } [EOL]     Object ob = instantiate(factoryName); [EOL]     if (ob == null) { [EOL]         return null; [EOL]     } [EOL]     return ((Deserializers) ob).findBeanDeserializer(type, config, beanDesc); [EOL] } <line_num>: 67,90
private Object instantiate(String className) { [EOL]     try { [EOL]         return Class.forName(className).newInstance(); [EOL]     } catch (LinkageError e) { [EOL]     } catch (Exception e) { [EOL]     } [EOL]     return null; [EOL] } <line_num>: 98,107
private boolean doesImplement(Class<?> actualType, String classNameToImplement) { [EOL]     for (Class<?> type = actualType; type != null; type = type.getSuperclass()) { [EOL]         if (type.getName().equals(classNameToImplement)) { [EOL]             return true; [EOL]         } [EOL]         if (hasInterface(type, classNameToImplement)) { [EOL]             return true; [EOL]         } [EOL]     } [EOL]     return false; [EOL] } <line_num>: 109,121
private boolean hasInterface(Class<?> type, String interfaceToImplement) { [EOL]     Class<?>[] interfaces = type.getInterfaces(); [EOL]     for (Class<?> iface : interfaces) { [EOL]         if (iface.getName().equals(interfaceToImplement)) { [EOL]             return true; [EOL]         } [EOL]     } [EOL]     for (Class<?> iface : interfaces) { [EOL]         if (hasInterface(iface, interfaceToImplement)) { [EOL]             return true; [EOL]         } [EOL]     } [EOL]     return false; [EOL] } <line_num>: 123,138
private boolean hasSupertypeStartingWith(Class<?> rawType, String prefix) { [EOL]     for (Class<?> supertype = rawType.getSuperclass(); supertype != null; supertype = supertype.getSuperclass()) { [EOL]         if (supertype.getName().startsWith(prefix)) { [EOL]             return true; [EOL]         } [EOL]     } [EOL]     for (Class<?> cls = rawType; cls != null; cls = cls.getSuperclass()) { [EOL]         if (hasInterfaceStartingWith(cls, prefix)) { [EOL]             return true; [EOL]         } [EOL]     } [EOL]     return false; [EOL] } <line_num>: 140,155
private boolean hasInterfaceStartingWith(Class<?> type, String prefix) { [EOL]     Class<?>[] interfaces = type.getInterfaces(); [EOL]     for (Class<?> iface : interfaces) { [EOL]         if (iface.getName().startsWith(prefix)) { [EOL]             return true; [EOL]         } [EOL]     } [EOL]     for (Class<?> iface : interfaces) { [EOL]         if (hasInterfaceStartingWith(iface, prefix)) { [EOL]             return true; [EOL]         } [EOL]     } [EOL]     return false; [EOL] } <line_num>: 157,172
