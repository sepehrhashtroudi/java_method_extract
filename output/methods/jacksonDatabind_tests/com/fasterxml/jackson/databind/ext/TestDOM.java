public void testSerializeSimpleNonNS() throws Exception { [EOL]     Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new InputSource(new StringReader(SIMPLE_XML))); [EOL]     assertNotNull(doc); [EOL]     ObjectMapper mapper = new ObjectMapper(); [EOL]     String outputRaw = mapper.writeValueAsString(doc); [EOL]     String output = mapper.readValue(outputRaw, String.class); [EOL]     assertEquals(SIMPLE_XML, normalizeOutput(output)); [EOL] } <line_num>: 18,33
public void testDeserializeNonNS() throws Exception { [EOL]     ObjectMapper mapper = new ObjectMapper(); [EOL]     for (int i = 0; i < 2; ++i) { [EOL]         Document doc; [EOL]         if (i == 0) { [EOL]             doc = mapper.readValue(quote(SIMPLE_XML), Document.class); [EOL]         } else { [EOL]             Node node = mapper.readValue(quote(SIMPLE_XML), Node.class); [EOL]             doc = (Document) node; [EOL]         } [EOL]         Element root = doc.getDocumentElement(); [EOL]         assertNotNull(root); [EOL]         assertEquals("root", root.getTagName()); [EOL]         assertEquals("3", root.getAttribute("attr")); [EOL]         assertEquals(1, root.getAttributes().getLength()); [EOL]         NodeList nodes = root.getChildNodes(); [EOL]         assertEquals(2, nodes.getLength()); [EOL]         Element leaf = (Element) nodes.item(0); [EOL]         assertEquals("leaf", leaf.getTagName()); [EOL]         assertEquals(0, leaf.getAttributes().getLength()); [EOL]         ProcessingInstruction pi = (ProcessingInstruction) nodes.item(1); [EOL]         assertEquals("proc", pi.getTarget()); [EOL]         assertEquals("instr", pi.getData()); [EOL]     } [EOL] } <line_num>: 35,65
public void testDeserializeNS() throws Exception { [EOL]     ObjectMapper mapper = new ObjectMapper(); [EOL]     Document doc = mapper.readValue(quote(SIMPLE_XML_NS), Document.class); [EOL]     Element root = doc.getDocumentElement(); [EOL]     assertNotNull(root); [EOL]     assertEquals("root", root.getTagName()); [EOL]     String uri = root.getNamespaceURI(); [EOL]     assertTrue((uri == null) || "".equals(uri)); [EOL]     assertEquals(0, root.getChildNodes().getLength()); [EOL]     assertEquals(2, root.getAttributes().getLength()); [EOL]     assertEquals("abc", root.getAttributeNS("http://foo", "attr")); [EOL] } <line_num>: 67,82
protected static String normalizeOutput(String output) { [EOL]     output = output.trim(); [EOL]     if (output.startsWith("<?xml")) { [EOL]         output = output.substring(output.indexOf('>') + 1).trim(); [EOL]     } [EOL]     return output.replace('"', '\''); [EOL] } <line_num>: 90,100
