@Test [EOL] public void testPreconditions() { [EOL]     double[] xval = new double[] { 3, 4, 5, 6.5 }; [EOL]     double[] yval = new double[] { -4, -3, -1, 2.5 }; [EOL]     double[] zval = new double[] { -12, -8, -5.5, -3, 0, 2.5 }; [EOL]     double[][][] fval = new double[xval.length][yval.length][zval.length]; [EOL]     TrivariateGridInterpolator interpolator = new TricubicSplineInterpolator(); [EOL]     @SuppressWarnings("unused") [EOL]     TrivariateFunction p = interpolator.interpolate(xval, yval, zval, fval); [EOL]     double[] wxval = new double[] { 3, 2, 5, 6.5 }; [EOL]     try { [EOL]         p = interpolator.interpolate(wxval, yval, zval, fval); [EOL]         Assert.fail("an exception should have been thrown"); [EOL]     } catch (MathIllegalArgumentException e) { [EOL]     } [EOL]     double[] wyval = new double[] { -4, -3, -1, -1 }; [EOL]     try { [EOL]         p = interpolator.interpolate(xval, wyval, zval, fval); [EOL]         Assert.fail("an exception should have been thrown"); [EOL]     } catch (MathIllegalArgumentException e) { [EOL]     } [EOL]     double[] wzval = new double[] { -12, -8, -5.5, -3, -4, 2.5 }; [EOL]     try { [EOL]         p = interpolator.interpolate(xval, yval, wzval, fval); [EOL]         Assert.fail("an exception should have been thrown"); [EOL]     } catch (MathIllegalArgumentException e) { [EOL]     } [EOL]     double[][][] wfval = new double[xval.length][yval.length + 1][zval.length]; [EOL]     try { [EOL]         p = interpolator.interpolate(xval, yval, zval, wfval); [EOL]         Assert.fail("an exception should have been thrown"); [EOL]     } catch (DimensionMismatchException e) { [EOL]     } [EOL]     wfval = new double[xval.length - 1][yval.length][zval.length]; [EOL]     try { [EOL]         p = interpolator.interpolate(xval, yval, zval, wfval); [EOL]         Assert.fail("an exception should have been thrown"); [EOL]     } catch (DimensionMismatchException e) { [EOL]     } [EOL]     wfval = new double[xval.length][yval.length][zval.length - 1]; [EOL]     try { [EOL]         p = interpolator.interpolate(xval, yval, zval, wfval); [EOL]         Assert.fail("an exception should have been thrown"); [EOL]     } catch (DimensionMismatchException e) { [EOL]     } [EOL] } <line_num>: 36,93
public double value(double x, double y, double z) { [EOL]     return 2 * x - 3 * y - z + 5; [EOL] } <line_num>: 103,105
@Ignore [EOL] @Test [EOL] public void testPlane() { [EOL]     TrivariateFunction f = new TrivariateFunction() { [EOL]  [EOL]         public double value(double x, double y, double z) { [EOL]             return 2 * x - 3 * y - z + 5; [EOL]         } [EOL]     }; [EOL]     TrivariateGridInterpolator interpolator = new TricubicSplineInterpolator(); [EOL]     double[] xval = new double[] { 3, 4, 5, 6.5 }; [EOL]     double[] yval = new double[] { -4, -3, -1, 2, 2.5 }; [EOL]     double[] zval = new double[] { -12, -8, -5.5, -3, 0, 2.5 }; [EOL]     double[][][] fval = new double[xval.length][yval.length][zval.length]; [EOL]     for (int i = 0; i < xval.length; i++) { [EOL]         for (int j = 0; j < yval.length; j++) { [EOL]             for (int k = 0; k < zval.length; k++) { [EOL]                 fval[i][j][k] = f.value(xval[i], yval[j], zval[k]); [EOL]             } [EOL]         } [EOL]     } [EOL]     TrivariateFunction p = interpolator.interpolate(xval, yval, zval, fval); [EOL]     double x, y, z; [EOL]     double expected, result; [EOL]     x = 4; [EOL]     y = -3; [EOL]     z = 0; [EOL]     expected = f.value(x, y, z); [EOL]     result = p.value(x, y, z); [EOL]     Assert.assertEquals("On sample point", expected, result, 1e-15); [EOL]     x = 4.5; [EOL]     y = -1.5; [EOL]     z = -4.25; [EOL]     expected = f.value(x, y, z); [EOL]     result = p.value(x, y, z); [EOL]     Assert.assertEquals("half-way between sample points (middle of the patch)", expected, result, 0.3); [EOL]     x = 3.5; [EOL]     y = -3.5; [EOL]     z = -10; [EOL]     expected = f.value(x, y, z); [EOL]     result = p.value(x, y, z); [EOL]     Assert.assertEquals("half-way between sample points (border of the patch)", expected, result, 0.3); [EOL] } <line_num>: 100,146
public double value(double x, double y, double z) { [EOL]     return a * FastMath.cos(omega * z - kx * x - ky * y); [EOL] } <line_num>: 169,171
@Ignore [EOL] @Test [EOL] public void testWave() { [EOL]     double[] xval = new double[] { 3, 4, 5, 6.5 }; [EOL]     double[] yval = new double[] { -4, -3, -1, 2, 2.5 }; [EOL]     double[] zval = new double[] { -12, -8, -5.5, -3, 0, 4 }; [EOL]     final double a = 0.2; [EOL]     final double omega = 0.5; [EOL]     final double kx = 2; [EOL]     final double ky = 1; [EOL]     TrivariateFunction f = new TrivariateFunction() { [EOL]  [EOL]         public double value(double x, double y, double z) { [EOL]             return a * FastMath.cos(omega * z - kx * x - ky * y); [EOL]         } [EOL]     }; [EOL]     double[][][] fval = new double[xval.length][yval.length][zval.length]; [EOL]     for (int i = 0; i < xval.length; i++) { [EOL]         for (int j = 0; j < yval.length; j++) { [EOL]             for (int k = 0; k < zval.length; k++) { [EOL]                 fval[i][j][k] = f.value(xval[i], yval[j], zval[k]); [EOL]             } [EOL]         } [EOL]     } [EOL]     TrivariateGridInterpolator interpolator = new TricubicSplineInterpolator(); [EOL]     TrivariateFunction p = interpolator.interpolate(xval, yval, zval, fval); [EOL]     double x, y, z; [EOL]     double expected, result; [EOL]     x = 4; [EOL]     y = -3; [EOL]     z = 0; [EOL]     expected = f.value(x, y, z); [EOL]     result = p.value(x, y, z); [EOL]     Assert.assertEquals("On sample point", expected, result, 1e-12); [EOL]     x = 4.5; [EOL]     y = -1.5; [EOL]     z = -4.25; [EOL]     expected = f.value(x, y, z); [EOL]     result = p.value(x, y, z); [EOL]     Assert.assertEquals("Half-way between sample points (middle of the patch)", expected, result, 0.1); [EOL]     x = 3.5; [EOL]     y = -3.5; [EOL]     z = -10; [EOL]     expected = f.value(x, y, z); [EOL]     result = p.value(x, y, z); [EOL]     Assert.assertEquals("Half-way between sample points (border of the patch)", expected, result, 0.1); [EOL] } <line_num>: 156,212
