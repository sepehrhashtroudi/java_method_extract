public MannWhitneyUTest() { [EOL]     naturalRanking = new NaturalRanking(NaNStrategy.FIXED, TiesStrategy.AVERAGE); [EOL] } <line_num>: 44,47
public MannWhitneyUTest(final NaNStrategy nanStrategy, final TiesStrategy tiesStrategy) { [EOL]     naturalRanking = new NaturalRanking(nanStrategy, tiesStrategy); [EOL] } <line_num>: 58,61
private void ensureDataConformance(final double[] x, final double[] y) throws NullArgumentException, NoDataException { [EOL]     if (x == null || y == null) { [EOL]         throw new NullArgumentException(); [EOL]     } [EOL]     if (x.length == 0 || y.length == 0) { [EOL]         throw new NoDataException(); [EOL]     } [EOL] } <line_num>: 71,82
private double[] concatenateSamples(final double[] x, final double[] y) { [EOL]     final double[] z = new double[x.length + y.length]; [EOL]     System.arraycopy(x, 0, z, 0, x.length); [EOL]     System.arraycopy(y, 0, z, x.length, y.length); [EOL]     return z; [EOL] } <line_num>: 89,96
public double mannWhitneyU(final double[] x, final double[] y) throws NullArgumentException, NoDataException { [EOL]     ensureDataConformance(x, y); [EOL]     final double[] z = concatenateSamples(x, y); [EOL]     final double[] ranks = naturalRanking.rank(z); [EOL]     double sumRankX = 0; [EOL]     for (int i = 0; i < x.length; ++i) { [EOL]         sumRankX += ranks[i]; [EOL]     } [EOL]     final double U1 = sumRankX - (x.length * (x.length + 1)) / 2; [EOL]     final double U2 = x.length * y.length - U1; [EOL]     return FastMath.max(U1, U2); [EOL] } <line_num>: 126,156
private double calculateAsymptoticPValue(final double Umin, final int n1, final int n2) throws ConvergenceException, MaxCountExceededException { [EOL]     final long n1n2prod = (long) n1 * n2; [EOL]     final double EU = n1n2prod / 2.0; [EOL]     final double VarU = n1n2prod * (n1 + n2 + 1) / 12.0; [EOL]     final double z = (Umin - EU) / FastMath.sqrt(VarU); [EOL]     final NormalDistribution standardNormal = new NormalDistribution(0, 1); [EOL]     return 2 * standardNormal.cumulativeProbability(z); [EOL] } <line_num>: 168,188
public double mannWhitneyUTest(final double[] x, final double[] y) throws NullArgumentException, NoDataException, ConvergenceException, MaxCountExceededException { [EOL]     ensureDataConformance(x, y); [EOL]     final double Umax = mannWhitneyU(x, y); [EOL]     final double Umin = x.length * y.length - Umax; [EOL]     return calculateAsymptoticPValue(Umin, x.length, y.length); [EOL] } <line_num>: 222,236
